@require 'ref'
@require 'effects/animation'

@keyframes moveTheWave
  // Delay repeat
  0%,
  5%
    stroke-dashoffset: 0
    transform: translate3d(0, 0, 0)

  95%,
  100%
    stroke-dashoffset: -92
    transform: translate3d(-61px, 0, 0)

.global-loading
  display: flex
  position: absolute
  z-index: $zIndexLoading
  top: 0
  left: 0
  width: 100%
  height: 100%
  min-height: $appMinHeight
  transition: transform 218ms 1000ms, top 218ms 1000ms

  [status='loaded'] &
    top: -100%

    .loading-box
      transform: rotateY(-90deg) translate3d(0, 0, 40px)

  .loading-box
    display: flex
    position: absolute
    top: 38.2%
    left: 50%
    width: 80px
    height: 80px
    margin-top: -40px
    margin-left: -40px
    background: $white
    border: 2px solid $black
    border-radius: $radius
    align-items: center
    justify-content: center
    box-sizing: border-box
    transform-style: preserve-3d
    perspective: 9999px
    transition: transform 318ms

    path
      stroke-dasharray: 0 11 83 0
      animation: moveTheWave 2400ms ease-in-out alternate infinite
